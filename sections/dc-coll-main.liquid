{{ 'dc-coll-main.css' | asset_url | stylesheet_tag }}

<div class="dc-coll-main">
  <div class="container">
    {% assign sug_col = 0 %}
    {% for block in section.blocks %}
    {% if block.type == 'coll' %}
    {% assign sug_col = sug_col | plus: 1 %}
    {% endif %}
  	{% endfor %}
    {% if sug_col != 0 %}
    <div class="sugg-collections flex-box{% if sug_col == 3 %} justify-between{% elsif sug_col == 2 %} justify-around{% else %} justify-center{% endif %}">
    {% for block in section.blocks %}
    {% if block.type == 'coll' %}
      {% assign sugg_coll = block.settings.collection %}
      <a href="{{ sugg_coll.url }}" class="sugg-collection flex-box">
        <div class="sugg-coll-img">
        	{% if sugg_coll.image != blank %}
          		{{ sugg_coll.image | image_url: width: 146 | image_tag }}
          	{% else %}
          		<img src="{{ section.settings.image | img_url: 'x146' }}">
          	{% endif %}
        </div>
        <div class="sugg-coll-txt">
          <div class="sugg-coll-title">{{ sugg_coll.title }}</div>
          <div class="sugg-coll-age">{{ block.settings.age }}</div>
        </div>
      </a>  
    {% endif %}
  	{% endfor %}
    </div>
    {% endif %}
    
    <div class="filters-titles-wrap flex-box justify-between">
      <div class="filter-title">{{ section.settings.filter }}</div>
      <div class="total-porducts-wrap">
        <span class="total-products"></span>
        <span class="total-products-title">{{ section.settings.tot_products }}</span>
      </div>
      <div class="sort-wrap">
        <div class="sort-title">{{ section.settings.sort }}</div>
        <div class="sort-types rel">
          <div class="selected-sort">
            <div class="selected-sort-txt">Bestseller</div>
            <div class="down-chev"></div>
          </div>
          <div class="sort-options">
            <div class="sort-option" data-value="bestseller">Bestseller</div>
            <div class="sort-option" data-value="low-to-high">Price Low to High</div>
            <div class="sort-option" data-value="high-to-low">Price High to Low</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "DC Collection Main",
    "settings": [
		{
			"type": "text",
			"id": "filter",
			"label": "Filter Title",
			"default": "Filter"
		},
		{
			"type": "text",
			"id": "tot_products",
			"label": "Total Products",
			"default": "Products"
		},
		{
			"type": "text",
			"id": "sort",
			"label": "Sort Title",
			"default": "Sort By"
		}
	],
	"blocks": [
		{
			"name": "Collection",
			"type": "coll",
			"limit": 3,
			"settings": [
				{
					"type": "collection",
					"id": "collection",
					"label": "Collection"
				},
				{
					"type": "image_picker",
					"id": "image",
					"label": "Image"
				},
				{
					"type": "text",
					"id": "age",
					"label": "Age Range"
				}
			]
			
		}
	],
	"presets": [
		{
			"name": "DC Collection Main"
		}
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
